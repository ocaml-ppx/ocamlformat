(executable
 (name bench)
 (public_name bench)
 (package ocamlformat-bench)
 (libraries bechamel bechamel-js ocamlformat_lib stdio))

(rule
 (alias runbench)
 (package ocamlformat-bench)
 (deps source_bench.ml %{bin:bench})
 (action (run %{bin:bench} run)))

(rule
 (target source_bench.ml)
 (deps source.ml)
 (action
  (with-stdout-to %{target}
   (run %{bin:cat} %{deps} %{deps} %{deps} %{deps} %{deps}))))
